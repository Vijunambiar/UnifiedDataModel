/**
 * INSURANCE-RETAIL METRICS CATALOG
 * Retail insurance product sales, penetration, and claims metrics
 */

export const insuranceRetailMetricsCatalog = {
  description: 'Retail insurance product performance, penetration, and customer protection metrics',
  totalMetrics: 360,
  
  categories: [
    {
      name: 'Insurance Penetration Metrics',
      description: 'Insurance product adoption and customer coverage',
      totalMetrics: 75,
      metrics: [
        {
          id: 'INS-PEN-001',
          name: 'Insurance Penetration Rate',
          description: 'Percentage of banking customers with insurance products',
          category: 'Penetration',
          type: 'diagnostic',
          subcategory: 'Adoption',
          formula: "(insured_customers / total_customers) * 100",
          businessLogic: 'Customers with insurance divided by total customers',
          dataType: 'DECIMAL',
          unit: 'percentage',
          aggregation: 'CALCULATED',
          granularity: 'Monthly',
          sourceTables: ['bronze.insurance_policies', 'gold.fact_insurance_portfolio'],
          calculation: { numerator: "COUNT(DISTINCT customer_id WHERE has_policy = true)", denominator: "COUNT(DISTINCT customer_id)", multiplier: 100 },
          businessDefinition: 'Insurance product customer penetration',
          benchmarks: { industryAverage: '28%', topQuartile: '42%', target: '35%' },
        },
        {
          id: 'INS-PEN-002',
          name: 'Credit Life Insurance Attachment',
          description: 'Percentage of loans with credit life insurance',
          category: 'Penetration',
          type: 'diagnostic',
          subcategory: 'Product Attachment',
          formula: "(loans_with_insurance / total_loans) * 100",
          businessLogic: 'Insured loans divided by total loans',
          dataType: 'DECIMAL',
          unit: 'percentage',
          aggregation: 'CALCULATED',
          granularity: 'Monthly',
          sourceTables: ['bronze.insurance_policies'],
          calculation: { numerator: "COUNT(DISTINCT loan_id WHERE credit_life = true)", denominator: "COUNT(DISTINCT loan_id)", multiplier: 100 },
          businessDefinition: 'Loan insurance attachment rate',
          benchmarks: { industryAverage: '32%', topQuartile: '48%', target: '40%' },
        },
      ],
    },
    {
      name: 'Insurance Sales Metrics',
      description: 'Insurance product sales volume and revenue',
      totalMetrics: 70,
      metrics: [
        {
          id: 'INS-SALES-001',
          name: 'Insurance Premium Revenue',
          description: 'Total insurance premium revenue earned',
          category: 'Sales',
          type: 'financial',
          subcategory: 'Revenue',
          formula: "SUM(premium_amount)",
          businessLogic: 'Sum of insurance premium revenue',
          dataType: 'DECIMAL',
          unit: 'currency',
          aggregation: 'SUM',
          granularity: 'Monthly',
          sourceTables: ['bronze.insurance_premiums', 'gold.fact_insurance_revenue'],
          calculation: { numerator: "SUM(premium_earned)" },
          businessDefinition: 'Total insurance premium income',
          benchmarks: { industryAverage: '$450K/month', topQuartile: '$850K/month', target: '$650K/month' },
        },
      ],
    },
    {
      name: 'Claims Metrics',
      description: 'Insurance claims processing and payout tracking',
      totalMetrics: 70,
      metrics: [
        {
          id: 'INS-CLM-001',
          name: 'Claims Payout Ratio',
          description: 'Ratio of claims paid to premiums collected',
          category: 'Claims',
          type: 'diagnostic',
          subcategory: 'Loss Ratio',
          formula: "(claims_paid / premiums_collected) * 100",
          businessLogic: 'Claims payouts divided by premium revenue',
          dataType: 'DECIMAL',
          unit: 'percentage',
          aggregation: 'CALCULATED',
          granularity: 'Quarterly',
          sourceTables: ['gold.fact_insurance_claims'],
          calculation: { numerator: "SUM(claim_amount_paid)", denominator: "SUM(premium_revenue)", multiplier: 100 },
          businessDefinition: 'Insurance loss ratio measurement',
          benchmarks: { industryAverage: '65%', topQuartile: '52%', target: '58%' },
        },
      ],
    },
    {
      name: 'Policy Performance Metrics',
      description: 'Insurance policy retention and lapsation tracking',
      totalMetrics: 70,
      metrics: [
        {
          id: 'INS-POL-001',
          name: 'Policy Retention Rate',
          description: 'Percentage of insurance policies renewed',
          category: 'Policy Performance',
          type: 'kpi',
          subcategory: 'Retention',
          formula: "(renewed_policies / eligible_renewals) * 100",
          businessLogic: 'Renewed policies divided by eligible for renewal',
          dataType: 'DECIMAL',
          unit: 'percentage',
          aggregation: 'CALCULATED',
          granularity: 'Quarterly',
          sourceTables: ['bronze.insurance_policies'],
          calculation: { numerator: "COUNT(WHERE renewed = true)", denominator: "COUNT(WHERE eligible_for_renewal = true)", multiplier: 100 },
          businessDefinition: 'Insurance policy persistency',
          benchmarks: { industryAverage: '88%', topQuartile: '94%', target: '91%' },
        },
      ],
    },
    {
      name: 'Regulatory Compliance Metrics',
      description: 'Insurance regulatory compliance and consumer protection',
      totalMetrics: 75,
      metrics: [
        {
          id: 'INS-COMP-001',
          name: 'Policy Disclosure Compliance',
          description: 'Percentage of policies with complete disclosures',
          category: 'Compliance',
          type: 'risk',
          subcategory: 'Consumer Protection',
          formula: "(compliant_policies / total_policies) * 100",
          businessLogic: 'Policies with proper disclosures divided by total',
          dataType: 'DECIMAL',
          unit: 'percentage',
          aggregation: 'CALCULATED',
          granularity: 'Monthly',
          sourceTables: ['bronze.insurance_compliance'],
          calculation: { numerator: "COUNT(WHERE disclosure_complete = true)", denominator: "COUNT(policy_id)", multiplier: 100 },
          businessDefinition: 'Insurance disclosure compliance rate',
          benchmarks: { industryAverage: '97%', topQuartile: '99.5%', target: '98.5%' },
        },
      ],
    },
  ],
};
