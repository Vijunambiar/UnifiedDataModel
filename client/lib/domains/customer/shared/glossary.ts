// Customer Domain Glossary
// Business definitions and semantic layer terminology

export interface GlossaryTerm {
  name: string;
  definition: string;
  businessMeaning: string;
  technicalDefinition: string;
  source: string;
  relatedTerms: string[];
}

export const customerGlossary: GlossaryTerm[] = [
  {
    name: "Customer Lifetime Value (CLV)",
    definition:
      "The total profit generated by a customer over their entire relationship with the bank",
    businessMeaning:
      "Key metric for customer acquisition spend decisions and retention investments. Customers with CLV > $50K are priority retention targets.",
    technicalDefinition:
      "SUM(all_transactions.amount) - SUM(all_costs) for each customer over 10-year forward projection",
    source: "Gold layer: dim_customer.clv_usd",
    relatedTerms: [
      "Customer Profitability",
      "RFM Score",
      "Segment Value",
    ],
  },
  {
    name: "Active Customer",
    definition:
      "A customer with at least one transaction or login in the last 90 days",
    businessMeaning:
      "Measure of engagement and product usage. Threshold for calculating churn, retention, and health metrics.",
    technicalDefinition:
      "WHERE DATEDIFF(day, last_activity_date, CURRENT_DATE) <= 90",
    source: "Gold layer: fct_customer_activity",
    relatedTerms: ["Engagement", "Churn Rate", "Dormant Customer"],
  },
  {
    name: "Customer Churn Rate",
    definition:
      "Percentage of customers who became inactive during a period",
    businessMeaning:
      "Core retention metric. Target is <5% quarterly churn. Drives retention programs and interventions.",
    technicalDefinition:
      "(Customers inactive this period / Customers active previous period) * 100",
    source: "Gold layer: agg_customer_churn_monthly",
    relatedTerms: ["Retention Rate", "Customer Lifetime", "Attrition"],
  },
  {
    name: "Customer Segment",
    definition:
      "Customer cohort grouped by RFM (Recency, Frequency, Monetary) or behavioral characteristics",
    businessMeaning:
      "Enables targeted marketing, personalized offerings, and risk-based pricing. Standard segments: Premier (top 10%), Premium (20%), Standard (70%)",
    technicalDefinition:
      "RFM score = (R_score + F_score + M_score) / 3, then bucketed 1-5 for each dimension",
    source: "Gold layer: dim_customer.segment",
    relatedTerms: ["RFM Analysis", "Customer Profiling", "Micro-Segment"],
  },
  {
    name: "Customer Relationship",
    definition:
      "Multi-generational family or household group where one customer is the primary and others are secondary",
    businessMeaning:
      "Critical for household marketing, wealth management planning, and cross-sell targeting. Enables 'share of wallet' analysis.",
    technicalDefinition:
      "Hierarchy in dim_customer where relationship_type IN ('Primary', 'Secondary', 'Joint', 'Guardian')",
    source: "Gold layer: dim_customer_relationships",
    relatedTerms: ["Household", "Account Ownership", "Decision Maker"],
  },
  {
    name: "KYC Compliance",
    definition:
      "Know Your Customer - regulatory requirement to verify customer identity and assess risk",
    businessMeaning:
      "Non-negotiable legal requirement. Completion within 30 days of account opening. Failure results in account closure and regulatory fines.",
    technicalDefinition:
      "Customer has ID verification, address verification, income verification, and beneficial ownership determination in gold layer",
    source: "Gold layer: dim_customer_kyc_status",
    relatedTerms: ["CDD", "AML Compliance", "Customer Risk Rating"],
  },
  {
    name: "Customer Acquisition Cost (CAC)",
    definition:
      "Total cost to acquire a new customer including marketing, onboarding, and operations",
    businessMeaning:
      "Used to calculate payback period (CLV / CAC). Target is < 1 year payback for consumer banking.",
    technicalDefinition:
      "SUM(marketing_spend + onboarding_cost + operations_overhead) / COUNT(new_customers)",
    source: "Gold layer: fct_customer_acquisition",
    relatedTerms: ["Customer Value", "Acquisition Channel", "Payback Period"],
  },
  {
    name: "Net Promoter Score (NPS)",
    definition:
      "Customer satisfaction metric: (Promoters - Detractors) / Total * 100. Range: -100 to +100",
    businessMeaning:
      "Industry standard for customer satisfaction. Bank NPS typically 40-50. Every 10-point increase correlates to 2% revenue growth.",
    technicalDefinition:
      "Score 9-10 = Promoter, 7-8 = Passive, 0-6 = Detractor. NPS = %Promoters - %Detractors",
    source: "Gold layer: fct_customer_satisfaction",
    relatedTerms: ["Customer Satisfaction", "Loyalty", "Customer Health"],
  },
  {
    name: "Customer Risk Rating",
    definition:
      "Score 1-100 indicating compliance risk and fraud risk for each customer",
    businessMeaning:
      "Determines customer tier for AML monitoring, transaction limits, and enhanced due diligence. Scores >75 require manual review.",
    technicalDefinition:
      "ML model incorporating: transaction amount volatility, geographic anomalies, sanctions list matches, PEP status, KYC completeness",
    source: "Gold layer: dim_customer.risk_score",
    relatedTerms: ["Compliance Risk", "Fraud Risk", "PEP Status"],
  },
  {
    name: "Customer Data Platform (CDP)",
    definition:
      "Centralized system unifying customer data from all sources for marketing and analytics",
    businessMeaning:
      "This gold layer serves as the CDP, enabling real-time personalization, segment targeting, and unified reporting across all channels",
    technicalDefinition:
      "Snowflake gold tables + Power BI + streaming connectors to marketing tools (Salesforce, Adobe)",
    source: "Architecture: analytics_db.customer_analytics schema",
    relatedTerms: ["Data Integration", "Unified Customer View", "Personalization"],
  },
];
