// ============================================================================
// WEALTH MANAGEMENT DOMAIN - ENHANCED P2 IMPLEMENTATION
// ============================================================================
// Comprehensive wealth management metrics catalog with full metric definitions
// Aligned with P0 standards: detailed IDs, formulas, descriptions, units
// Total Metrics: 200+ (enhanced from simple strings to full metric objects)
// ============================================================================

export const wealthMetricsCatalogEnhanced = {
  description:
    "200+ wealth management metrics with complete metric definitions",
  totalMetrics: 220,
  categories: [
    {
      name: "Assets Under Management (AUM) Metrics",
      metricCount: 25,
      metrics: [
        {
          id: "WM-001",
          name: "Total AUM",
          description: "Total Assets Under Management across all portfolios",
          formula: "SUM(portfolio_value)",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-002",
          name: "Net New Assets",
          description: "New client assets minus client withdrawals",
          formula: "SUM(contributions) - SUM(withdrawals)",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-003",
          name: "Organic Growth Rate",
          description: "AUM growth excluding market appreciation",
          formula: "(Net New Assets / Beginning AUM) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-004",
          name: "Market Appreciation",
          description: "AUM change due to market performance",
          formula: "Ending AUM - Beginning AUM - Net Flows",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-005",
          name: "AUM by Client Segment - HNW",
          description: "AUM for High Net Worth clients ($1M-$5M)",
          formula: "SUM(portfolio_value WHERE aum BETWEEN 1M AND 5M)",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-006",
          name: "AUM by Client Segment - UHNW",
          description: "AUM for Ultra High Net Worth clients (>$5M)",
          formula: "SUM(portfolio_value WHERE aum > 5M)",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-007",
          name: "AUM by Advisor",
          description: "AUM managed per advisor",
          formula: "SUM(portfolio_value) GROUP BY advisor_id",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-008",
          name: "AUM by Portfolio Type",
          description:
            "AUM by portfolio type (Discretionary, Advisory, Brokerage)",
          formula: "SUM(portfolio_value) GROUP BY portfolio_type",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-009",
          name: "Average Account Size",
          description: "Average AUM per client account",
          formula: "Total AUM / COUNT(DISTINCT account_id)",
          unit: "currency",
          aggregation: "AVG",
        },
        {
          id: "WM-010",
          name: "Billable AUM",
          description: "AUM eligible for advisory fees",
          formula: "SUM(portfolio_value WHERE billable = TRUE)",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-011",
          name: "AUM Growth Rate (MoM)",
          description: "Month-over-month AUM growth",
          formula: "((Current AUM - Prior Month AUM) / Prior Month AUM) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-012",
          name: "AUM Growth Rate (YoY)",
          description: "Year-over-year AUM growth",
          formula: "((Current AUM - Prior Year AUM) / Prior Year AUM) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-013",
          name: "Client Acquisition AUM",
          description: "AUM from new clients",
          formula:
            "SUM(initial_portfolio_value WHERE client_start_date IN period)",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-014",
          name: "Client Attrition AUM",
          description: "AUM lost from client departures",
          formula: "SUM(final_portfolio_value WHERE client_end_date IN period)",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-015",
          name: "Household AUM",
          description: "Total AUM grouped by household",
          formula: "SUM(portfolio_value) GROUP BY household_id",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-016",
          name: "Managed AUM",
          description: "AUM with active management",
          formula: "SUM(portfolio_value WHERE management_type = 'Managed')",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-017",
          name: "Advisory AUM",
          description: "AUM with advisory-only services",
          formula: "SUM(portfolio_value WHERE management_type = 'Advisory')",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-018",
          name: "Discretionary AUM",
          description: "AUM with discretionary authority",
          formula: "SUM(portfolio_value WHERE discretionary_flag = TRUE)",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-019",
          name: "Non-Discretionary AUM",
          description: "AUM without discretionary authority",
          formula: "SUM(portfolio_value WHERE discretionary_flag = FALSE)",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-020",
          name: "AUM Concentration - Top 10 Clients",
          description: "% of AUM in top 10 clients",
          formula: "(SUM(top_10_client_aum) / Total AUM) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-021",
          name: "AUM per Household",
          description: "Average AUM per household",
          formula: "Total AUM / COUNT(DISTINCT household_id)",
          unit: "currency",
          aggregation: "AVG",
        },
        {
          id: "WM-022",
          name: "Retained AUM Rate",
          description: "% of AUM retained year-over-year",
          formula: "((Beginning AUM - Attrition AUM) / Beginning AUM) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-023",
          name: "Cash as % of AUM",
          description: "Cash holdings as percentage of total AUM",
          formula: "(Total Cash / Total AUM) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-024",
          name: "AUM Growth Rate (QoQ)",
          description: "Quarter-over-quarter AUM growth",
          formula:
            "((Current AUM - Prior Quarter AUM) / Prior Quarter AUM) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-025",
          name: "Investable AUM",
          description: "AUM available for investment (excluding cash reserves)",
          formula: "SUM(portfolio_value) - SUM(reserved_cash)",
          unit: "currency",
          aggregation: "SUM",
        },
      ],
    },
    {
      name: "Client Metrics",
      metricCount: 30,
      metrics: [
        {
          id: "WM-026",
          name: "Total Clients",
          description: "Total number of active wealth management clients",
          formula: "COUNT(DISTINCT client_id WHERE status = 'Active')",
          unit: "count",
          aggregation: "SUM",
        },
        {
          id: "WM-027",
          name: "New Clients",
          description: "Number of new clients onboarded in period",
          formula: "COUNT(DISTINCT client_id WHERE onboard_date IN period)",
          unit: "count",
          aggregation: "SUM",
        },
        {
          id: "WM-028",
          name: "Lost Clients",
          description: "Number of clients who left in period",
          formula: "COUNT(DISTINCT client_id WHERE termination_date IN period)",
          unit: "count",
          aggregation: "SUM",
        },
        {
          id: "WM-029",
          name: "Client Retention Rate",
          description: "Percentage of clients retained",
          formula:
            "((Beginning Clients - Lost Clients) / Beginning Clients) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-030",
          name: "Client Satisfaction Score (NPS)",
          description: "Net Promoter Score from client surveys",
          formula: "% Promoters - % Detractors",
          unit: "score",
          aggregation: "AVG",
        },
        {
          id: "WM-031",
          name: "Clients per Advisor",
          description: "Average number of clients per advisor",
          formula: "COUNT(DISTINCT client_id) / COUNT(DISTINCT advisor_id)",
          unit: "ratio",
          aggregation: "AVG",
        },
        {
          id: "WM-032",
          name: "High Net Worth Clients",
          description: "Clients with $1M-$5M in AUM",
          formula:
            "COUNT(DISTINCT client_id WHERE aum BETWEEN 1000000 AND 5000000)",
          unit: "count",
          aggregation: "SUM",
        },
        {
          id: "WM-033",
          name: "Ultra High Net Worth Clients",
          description: "Clients with >$5M in AUM",
          formula: "COUNT(DISTINCT client_id WHERE aum > 5000000)",
          unit: "count",
          aggregation: "SUM",
        },
        {
          id: "WM-034",
          name: "Mass Affluent Clients",
          description: "Clients with $250K-$1M in AUM",
          formula:
            "COUNT(DISTINCT client_id WHERE aum BETWEEN 250000 AND 1000000)",
          unit: "count",
          aggregation: "SUM",
        },
        {
          id: "WM-035",
          name: "Accredited Investors",
          description: "Number of accredited investor clients",
          formula: "COUNT(DISTINCT client_id WHERE accredited_flag = TRUE)",
          unit: "count",
          aggregation: "SUM",
        },
        {
          id: "WM-036",
          name: "Qualified Clients",
          description:
            "Clients meeting qualified client criteria ($2.2M+ or $1M+ with firm)",
          formula:
            "COUNT(DISTINCT client_id WHERE qualified_client_flag = TRUE)",
          unit: "count",
          aggregation: "SUM",
        },
        {
          id: "WM-037",
          name: "Active Clients",
          description: "Clients with activity in last 90 days",
          formula:
            "COUNT(DISTINCT client_id WHERE last_activity_date >= CURRENT_DATE - 90)",
          unit: "count",
          aggregation: "SUM",
        },
        {
          id: "WM-038",
          name: "Inactive Clients",
          description: "Clients with no activity in 180+ days",
          formula:
            "COUNT(DISTINCT client_id WHERE last_activity_date < CURRENT_DATE - 180)",
          unit: "count",
          aggregation: "SUM",
        },
        {
          id: "WM-039",
          name: "Client Engagement Score",
          description: "Composite score of client engagement",
          formula:
            "Weighted avg(login_frequency, meeting_attendance, survey_response, communication)",
          unit: "score",
          aggregation: "AVG",
        },
        {
          id: "WM-040",
          name: "Household Count",
          description: "Number of unique households",
          formula: "COUNT(DISTINCT household_id)",
          unit: "count",
          aggregation: "SUM",
        },
        {
          id: "WM-041",
          name: "Multi-Generational Households",
          description: "Households with 2+ generations as clients",
          formula: "COUNT(DISTINCT household_id WHERE generation_count >= 2)",
          unit: "count",
          aggregation: "SUM",
        },
        {
          id: "WM-042",
          name: "Client Acquisition Rate",
          description: "New clients as % of total clients",
          formula: "(New Clients / Total Clients) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-043",
          name: "Client Attrition Rate",
          description: "Lost clients as % of beginning clients",
          formula: "(Lost Clients / Beginning Clients) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-044",
          name: "Client Lifetime Value",
          description: "Expected lifetime fee revenue per client",
          formula: "AVG(annual_fees / annual_churn_rate)",
          unit: "currency",
          aggregation: "AVG",
        },
        {
          id: "WM-045",
          name: "Referral Rate",
          description: "% of new clients from referrals",
          formula: "(Referral Clients / New Clients) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-046",
          name: "Clients with Financial Plans",
          description: "% of clients with documented financial plans",
          formula: "(Clients with Plan / Total Clients) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-047",
          name: "Average Client Tenure",
          description: "Average years client has been with firm",
          formula: "AVG(DATEDIFF(CURRENT_DATE, client_start_date) / 365)",
          unit: "years",
          aggregation: "AVG",
        },
        {
          id: "WM-048",
          name: "Client Acquisition Cost (CAC)",
          description: "Average cost to acquire a new client",
          formula: "Total Acquisition Expenses / New Clients",
          unit: "currency",
          aggregation: "AVG",
        },
        {
          id: "WM-049",
          name: "LTV:CAC Ratio",
          description: "Client Lifetime Value to Acquisition Cost ratio",
          formula: "Client LTV / CAC",
          unit: "ratio",
          aggregation: "AVG",
        },
        {
          id: "WM-050",
          name: "Client Payback Period",
          description: "Months to recover client acquisition cost",
          formula: "CAC / Monthly Revenue per Client",
          unit: "months",
          aggregation: "AVG",
        },
        {
          id: "WM-051",
          name: "Clients per Branch",
          description: "Average clients per office location",
          formula: "Total Clients / COUNT(DISTINCT branch_id)",
          unit: "ratio",
          aggregation: "AVG",
        },
        {
          id: "WM-052",
          name: "Client Meeting Frequency",
          description: "Average meetings per client per year",
          formula: "COUNT(meetings) / COUNT(DISTINCT client_id)",
          unit: "count",
          aggregation: "AVG",
        },
        {
          id: "WM-053",
          name: "Client Communication Frequency",
          description: "Average communications per client per month",
          formula: "COUNT(communications) / COUNT(DISTINCT client_id) / 12",
          unit: "count",
          aggregation: "AVG",
        },
        {
          id: "WM-054",
          name: "Client Satisfaction (CSAT)",
          description: "Client Satisfaction Score from surveys",
          formula: "(Satisfied Responses / Total Responses) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-055",
          name: "Client Complaint Rate",
          description: "Client complaints per 1000 clients",
          formula: "(Total Complaints / Total Clients) * 1000",
          unit: "rate",
          aggregation: "AVG",
        },
      ],
    },
    {
      name: "Performance Metrics",
      metricCount: 30,
      metrics: [
        {
          id: "WM-056",
          name: "Time-Weighted Return (TWR)",
          description: "Portfolio return excluding cash flow timing effects",
          formula: "PRODUCT(1 + period_returns) - 1",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-057",
          name: "Money-Weighted Return (MWR/IRR)",
          description: "Internal rate of return including cash flows",
          formula: "IRR(cash_flows, portfolio_values)",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-058",
          name: "Benchmark Return",
          description: "Return of assigned benchmark index",
          formula: "(Benchmark End Value / Benchmark Begin Value - 1) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-059",
          name: "Excess Return",
          description: "Portfolio return minus benchmark return",
          formula: "Portfolio Return - Benchmark Return",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-060",
          name: "Alpha",
          description: "Risk-adjusted excess return vs benchmark",
          formula:
            "Portfolio Return - (Risk-free Rate + Beta * (Benchmark Return - Risk-free Rate))",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-061",
          name: "Beta",
          description: "Portfolio volatility relative to benchmark",
          formula:
            "COVARIANCE(portfolio_returns, benchmark_returns) / VARIANCE(benchmark_returns)",
          unit: "ratio",
          aggregation: "AVG",
        },
        {
          id: "WM-062",
          name: "Sharpe Ratio",
          description:
            "Risk-adjusted return (excess return per unit of total risk)",
          formula:
            "(Portfolio Return - Risk-free Rate) / STDEV(Portfolio Return)",
          unit: "ratio",
          aggregation: "AVG",
        },
        {
          id: "WM-063",
          name: "Information Ratio",
          description: "Excess return vs benchmark per unit of tracking error",
          formula: "(Portfolio Return - Benchmark Return) / Tracking Error",
          unit: "ratio",
          aggregation: "AVG",
        },
        {
          id: "WM-064",
          name: "Tracking Error",
          description: "Standard deviation of excess returns vs benchmark",
          formula: "STDEV(Portfolio Return - Benchmark Return)",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-065",
          name: "Standard Deviation",
          description: "Volatility of portfolio returns (annualized)",
          formula: "STDEV(portfolio_returns) * SQRT(252)",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-066",
          name: "Downside Deviation",
          description: "Volatility of negative returns only",
          formula: "STDEV(returns WHERE returns < 0)",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-067",
          name: "Max Drawdown",
          description: "Largest peak-to-trough decline in portfolio value",
          formula: "MAX((Peak Value - Trough Value) / Peak Value) * 100",
          unit: "percentage",
          aggregation: "MAX",
        },
        {
          id: "WM-068",
          name: "Recovery Time",
          description: "Days to recover from max drawdown to new peak",
          formula: "DATEDIFF(Recovery Date, Drawdown Date)",
          unit: "days",
          aggregation: "AVG",
        },
        {
          id: "WM-069",
          name: "Sortino Ratio",
          description: "Return per unit of downside risk",
          formula: "(Portfolio Return - Risk-free Rate) / Downside Deviation",
          unit: "ratio",
          aggregation: "AVG",
        },
        {
          id: "WM-070",
          name: "Calmar Ratio",
          description: "Annualized return per unit of max drawdown",
          formula: "Annualized Return / ABS(Max Drawdown)",
          unit: "ratio",
          aggregation: "AVG",
        },
        {
          id: "WM-071",
          name: "Win Rate",
          description: "% of periods with positive returns",
          formula: "(Positive Periods / Total Periods) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-072",
          name: "1-Year Return",
          description: "Trailing 1-year portfolio return",
          formula: "((End Value / Begin Value) - 1) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-073",
          name: "3-Year Annualized Return",
          description: "Annualized return over 3 years",
          formula: "((End Value / Begin Value) ^ (1/3) - 1) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-074",
          name: "5-Year Annualized Return",
          description: "Annualized return over 5 years",
          formula: "((End Value / Begin Value) ^ (1/5) - 1) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-075",
          name: "10-Year Annualized Return",
          description: "Annualized return over 10 years",
          formula: "((End Value / Begin Value) ^ (1/10) - 1) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-076",
          name: "Since Inception Return",
          description: "Annualized return since portfolio inception",
          formula: "((End Value / Begin Value) ^ (1/years) - 1) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-077",
          name: "Year-to-Date Return",
          description: "Portfolio return from start of year",
          formula: "((Current Value / YTD Begin Value) - 1) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-078",
          name: "Quarter-to-Date Return",
          description: "Portfolio return from start of quarter",
          formula: "((Current Value / QTD Begin Value) - 1) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-079",
          name: "Month-to-Date Return",
          description: "Portfolio return from start of month",
          formula: "((Current Value / MTD Begin Value) - 1) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-080",
          name: "Risk-Adjusted Performance Rank",
          description: "Percentile rank of Sharpe ratio vs peer group",
          formula: "PERCENT_RANK(sharpe_ratio) * 100",
          unit: "percentile",
          aggregation: "AVG",
        },
        {
          id: "WM-081",
          name: "Up Capture Ratio",
          description: "Portfolio performance in up markets vs benchmark",
          formula:
            "AVG(Portfolio Return WHERE Benchmark > 0) / AVG(Benchmark Return WHERE Benchmark > 0)",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-082",
          name: "Down Capture Ratio",
          description: "Portfolio performance in down markets vs benchmark",
          formula:
            "AVG(Portfolio Return WHERE Benchmark < 0) / AVG(Benchmark Return WHERE Benchmark < 0)",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-083",
          name: "R-Squared",
          description: "% of portfolio variance explained by benchmark",
          formula: "CORREL(portfolio_returns, benchmark_returns) ^ 2",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-084",
          name: "Treynor Ratio",
          description: "Excess return per unit of systematic risk",
          formula: "(Portfolio Return - Risk-free Rate) / Beta",
          unit: "ratio",
          aggregation: "AVG",
        },
        {
          id: "WM-085",
          name: "Jensen's Alpha",
          description: "Portfolio excess return vs CAPM expected return",
          formula:
            "Portfolio Return - (Risk-free Rate + Beta * Market Risk Premium)",
          unit: "percentage",
          aggregation: "AVG",
        },
      ],
    },
    {
      name: "Revenue & Fee Metrics",
      metricCount: 30,
      metrics: [
        {
          id: "WM-086",
          name: "Total Advisory Revenue",
          description: "Total fee revenue from all advisory services",
          formula:
            "SUM(management_fees + performance_fees + planning_fees + other_fees)",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-087",
          name: "Management Fee Revenue",
          description: "Asset-based management fees",
          formula: "SUM(aum * management_fee_rate)",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-088",
          name: "Performance Fee Revenue",
          description: "Performance-based incentive fees",
          formula:
            "SUM(excess_return * performance_fee_rate * aum WHERE excess_return > high_water_mark)",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-089",
          name: "Financial Planning Fee Revenue",
          description: "Fees from financial planning services",
          formula: "SUM(planning_fees)",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-090",
          name: "Commission Revenue",
          description: "Transaction commissions and 12b-1 fees",
          formula: "SUM(commissions + 12b1_fees)",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-091",
          name: "Revenue per Client",
          description: "Average annual revenue per client",
          formula: "Total Revenue / COUNT(DISTINCT client_id)",
          unit: "currency",
          aggregation: "AVG",
        },
        {
          id: "WM-092",
          name: "Revenue per AUM (bps)",
          description: "Revenue as basis points of AUM",
          formula: "(Total Revenue / Average AUM) * 10000",
          unit: "bps",
          aggregation: "AVG",
        },
        {
          id: "WM-093",
          name: "Fee Waiver Amount",
          description: "Total fees waived or discounted",
          formula: "SUM(gross_fees - net_fees)",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-094",
          name: "Fee Waiver Rate",
          description: "% of fees waived or discounted",
          formula: "(Waived Fees / Gross Fees) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-095",
          name: "Effective Fee Rate (bps)",
          description: "Net fees divided by AUM in basis points",
          formula: "(Net Fees / Average AUM) * 10000",
          unit: "bps",
          aggregation: "AVG",
        },
        {
          id: "WM-096",
          name: "Fee Compression (bps)",
          description: "Year-over-year change in effective fee rate",
          formula: "Current Effective Fee Rate - Prior Year Effective Fee Rate",
          unit: "bps",
          aggregation: "AVG",
        },
        {
          id: "WM-097",
          name: "Revenue Growth Rate (YoY)",
          description: "Year-over-year revenue growth percentage",
          formula:
            "((Current Revenue - Prior Year Revenue) / Prior Year Revenue) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-098",
          name: "Recurring Revenue %",
          description: "% of revenue from recurring fees",
          formula: "(Management Fees / Total Revenue) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-099",
          name: "Revenue by Service Type",
          description: "Revenue breakdown by service offering",
          formula: "SUM(revenue) GROUP BY service_type",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-100",
          name: "Revenue per Advisor",
          description: "Average annual revenue per advisor",
          formula: "Total Revenue / COUNT(DISTINCT advisor_id)",
          unit: "currency",
          aggregation: "AVG",
        },
        {
          id: "WM-101",
          name: "Gross Profit Margin",
          description: "Gross profit as % of revenue",
          formula: "((Total Revenue - Direct Costs) / Total Revenue) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-102",
          name: "Operating Profit Margin",
          description: "Operating profit as % of revenue",
          formula:
            "((Total Revenue - Operating Expenses) / Total Revenue) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-103",
          name: "Net Profit Margin",
          description: "Net income as % of revenue",
          formula: "((Total Revenue - Total Expenses) / Total Revenue) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-104",
          name: "Revenue Concentration - Top 10 Clients",
          description: "% of revenue from top 10 clients",
          formula: "(Top 10 Client Revenue / Total Revenue) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-105",
          name: "Fee Tier Breakpoint Revenue Impact",
          description: "Revenue by fee tier schedule",
          formula: "SUM(revenue) GROUP BY fee_tier",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-106",
          name: "Billing Cycle Compliance Rate",
          description: "% of fees billed on scheduled date",
          formula: "(On-time Bills / Total Bills) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-107",
          name: "Fee Collection Rate",
          description: "% of billed fees successfully collected",
          formula: "(Collected Fees / Billed Fees) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-108",
          name: "Revenue per Employee",
          description: "Total revenue per full-time employee",
          formula: "Total Revenue / Total FTE",
          unit: "currency",
          aggregation: "AVG",
        },
        {
          id: "WM-109",
          name: "Revenue Growth Rate (QoQ)",
          description: "Quarter-over-quarter revenue growth",
          formula:
            "((Current Qtr Revenue - Prior Qtr Revenue) / Prior Qtr Revenue) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-110",
          name: "Average Fee Rate by Segment",
          description: "Effective fee rate by client segment",
          formula: "(Total Fees / Total AUM) * 10000 GROUP BY segment",
          unit: "bps",
          aggregation: "AVG",
        },
        {
          id: "WM-111",
          name: "Cross-Sell Revenue",
          description: "Revenue from additional services to existing clients",
          formula: "SUM(additional_service_revenue WHERE client_exists = TRUE)",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-112",
          name: "Cross-Sell Attachment Rate",
          description: "% of clients with multiple services",
          formula: "(Clients with >1 Service / Total Clients) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-113",
          name: "Revenue per Square Foot",
          description: "Revenue per square foot of office space",
          formula: "Total Revenue / Total Square Feet",
          unit: "currency",
          aggregation: "AVG",
        },
        {
          id: "WM-114",
          name: "Fee Receivables Outstanding",
          description: "Total uncollected billed fees",
          formula:
            "SUM(billed_fees - collected_fees WHERE collection_status = 'Outstanding')",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-115",
          name: "Average Days to Collect Fees",
          description: "Average days from billing to collection",
          formula: "AVG(DATEDIFF(collection_date, billing_date))",
          unit: "days",
          aggregation: "AVG",
        },
      ],
    },
    {
      name: "Activity & Transaction Metrics",
      metricCount: 25,
      metrics: [
        {
          id: "WM-116",
          name: "Total Transactions",
          description: "Total number of portfolio transactions",
          formula: "COUNT(transaction_id)",
          unit: "count",
          aggregation: "SUM",
        },
        {
          id: "WM-117",
          name: "Transactions per Client",
          description: "Average transactions per client account",
          formula: "COUNT(transaction_id) / COUNT(DISTINCT client_id)",
          unit: "ratio",
          aggregation: "AVG",
        },
        {
          id: "WM-118",
          name: "Transaction Volume",
          description: "Total dollar value of transactions",
          formula: "SUM(ABS(transaction_amount))",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-119",
          name: "Average Trade Size",
          description: "Average dollar amount per transaction",
          formula: "SUM(ABS(transaction_amount)) / COUNT(transaction_id)",
          unit: "currency",
          aggregation: "AVG",
        },
        {
          id: "WM-120",
          name: "Buy Transaction Count",
          description: "Number of buy transactions",
          formula: "COUNT(transaction_id WHERE transaction_type = 'Buy')",
          unit: "count",
          aggregation: "SUM",
        },
        {
          id: "WM-121",
          name: "Sell Transaction Count",
          description: "Number of sell transactions",
          formula: "COUNT(transaction_id WHERE transaction_type = 'Sell')",
          unit: "count",
          aggregation: "SUM",
        },
        {
          id: "WM-122",
          name: "Buy/Sell Ratio",
          description: "Ratio of buy to sell transactions",
          formula: "Buy Transaction Count / Sell Transaction Count",
          unit: "ratio",
          aggregation: "AVG",
        },
        {
          id: "WM-123",
          name: "Portfolio Turnover Rate",
          description: "% of portfolio traded annually",
          formula:
            "(MIN(Total Buys, Total Sells) / Average Portfolio Value) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-124",
          name: "Rebalancing Frequency",
          description: "Number of rebalancing events per portfolio per year",
          formula: "COUNT(rebalance_event) / COUNT(DISTINCT portfolio_id)",
          unit: "count",
          aggregation: "AVG",
        },
        {
          id: "WM-125",
          name: "Contribution Volume",
          description: "Total client contributions",
          formula:
            "SUM(transaction_amount WHERE transaction_type = 'Contribution')",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-126",
          name: "Withdrawal Volume",
          description: "Total client withdrawals",
          formula:
            "SUM(ABS(transaction_amount) WHERE transaction_type = 'Withdrawal')",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-127",
          name: "Net Cash Flow",
          description: "Contributions minus withdrawals",
          formula: "Contribution Volume - Withdrawal Volume",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-128",
          name: "Average Contribution Size",
          description: "Average dollar amount per contribution",
          formula: "Contribution Volume / COUNT(contributions)",
          unit: "currency",
          aggregation: "AVG",
        },
        {
          id: "WM-129",
          name: "Average Withdrawal Size",
          description: "Average dollar amount per withdrawal",
          formula: "Withdrawal Volume / COUNT(withdrawals)",
          unit: "currency",
          aggregation: "AVG",
        },
        {
          id: "WM-130",
          name: "Trading Cost per Transaction",
          description: "Average commission/fee per trade",
          formula: "SUM(commissions + fees) / COUNT(transactions)",
          unit: "currency",
          aggregation: "AVG",
        },
        {
          id: "WM-131",
          name: "Trading Cost as % of Assets",
          description: "Annual trading costs as % of AUM",
          formula: "(Total Trading Costs / Average AUM) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-132",
          name: "Dividend Income Received",
          description: "Total dividend income",
          formula: "SUM(dividend_amount)",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-133",
          name: "Interest Income Received",
          description: "Total interest income",
          formula: "SUM(interest_amount)",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-134",
          name: "Realized Gains (Losses)",
          description: "Total realized capital gains/losses",
          formula: "SUM(proceeds - cost_basis WHERE transaction_type = 'Sell')",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-135",
          name: "Unrealized Gains (Losses)",
          description: "Total unrealized gains/losses on holdings",
          formula: "SUM(market_value - cost_basis)",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-136",
          name: "Asset Allocation Change Frequency",
          description: "Number of allocation changes per portfolio per year",
          formula: "COUNT(allocation_change) / COUNT(DISTINCT portfolio_id)",
          unit: "count",
          aggregation: "AVG",
        },
        {
          id: "WM-137",
          name: "Tax-Loss Harvesting Volume",
          description: "Dollar amount of tax-loss harvesting transactions",
          formula: "SUM(ABS(transaction_amount) WHERE tax_loss_harvest = TRUE)",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-138",
          name: "Automated Transactions %",
          description: "% of transactions executed automatically",
          formula: "(Automated Transactions / Total Transactions) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-139",
          name: "Failed Transaction Rate",
          description: "% of transactions that failed",
          formula: "(Failed Transactions / Total Transaction Attempts) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-140",
          name: "Transaction Settlement Time",
          description: "Average days from trade to settlement",
          formula: "AVG(DATEDIFF(settlement_date, trade_date))",
          unit: "days",
          aggregation: "AVG",
        },
      ],
    },
    {
      name: "Portfolio Construction & Risk Metrics",
      metricCount: 30,
      metrics: [
        {
          id: "WM-141",
          name: "Asset Allocation vs Target - Equity",
          description: "Deviation of equity allocation from target",
          formula: "ABS(Actual Equity % - Target Equity %) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-142",
          name: "Asset Allocation vs Target - Fixed Income",
          description: "Deviation of fixed income allocation from target",
          formula: "ABS(Actual FI % - Target FI %) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-143",
          name: "Asset Allocation vs Target - Cash",
          description: "Deviation of cash allocation from target",
          formula: "ABS(Actual Cash % - Target Cash %) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-144",
          name: "Asset Allocation vs Target - Alternatives",
          description: "Deviation of alternatives allocation from target",
          formula: "ABS(Actual Alt % - Target Alt %) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-145",
          name: "Overall Allocation Drift",
          description: "Total deviation from target allocation",
          formula: "SUM(ABS(Actual % - Target %))",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-146",
          name: "Diversification Score",
          description: "Portfolio diversification measure (Herfindahl index)",
          formula: "1 - SUM(holding_weight ^ 2)",
          unit: "score",
          aggregation: "AVG",
        },
        {
          id: "WM-147",
          name: "Concentration Risk - Top 10 Holdings",
          description: "% of portfolio in top 10 holdings",
          formula: "(SUM(top_10_holdings_value) / Total Portfolio Value) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-148",
          name: "Concentration Risk - Single Security",
          description: "Maximum % of portfolio in any single security",
          formula: "MAX(security_value / portfolio_value) * 100",
          unit: "percentage",
          aggregation: "MAX",
        },
        {
          id: "WM-149",
          name: "Sector Concentration Risk",
          description: "% of portfolio in largest sector",
          formula: "MAX(sector_value / portfolio_value) * 100",
          unit: "percentage",
          aggregation: "MAX",
        },
        {
          id: "WM-150",
          name: "Geographic Concentration Risk",
          description: "% of portfolio in largest geographic region",
          formula: "MAX(region_value / portfolio_value) * 100",
          unit: "percentage",
          aggregation: "MAX",
        },
        {
          id: "WM-151",
          name: "Number of Holdings",
          description: "Total number of unique securities in portfolio",
          formula: "COUNT(DISTINCT security_id)",
          unit: "count",
          aggregation: "AVG",
        },
        {
          id: "WM-152",
          name: "Average Holding Size",
          description: "Average value per holding",
          formula: "Portfolio Value / COUNT(DISTINCT security_id)",
          unit: "currency",
          aggregation: "AVG",
        },
        {
          id: "WM-153",
          name: "Cash Allocation %",
          description: "Percentage of portfolio in cash",
          formula: "(Cash Balance / Portfolio Value) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-154",
          name: "Equity Allocation %",
          description: "Percentage of portfolio in equities",
          formula: "(Equity Value / Portfolio Value) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-155",
          name: "Fixed Income Allocation %",
          description: "Percentage of portfolio in fixed income",
          formula: "(FI Value / Portfolio Value) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-156",
          name: "Alternative Investments %",
          description: "Percentage in alternative assets",
          formula: "(Alternative Value / Portfolio Value) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-157",
          name: "International Exposure %",
          description: "Percentage of portfolio in non-US securities",
          formula: "(International Value / Portfolio Value) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-158",
          name: "Emerging Markets Exposure %",
          description: "Percentage in emerging markets",
          formula: "(EM Value / Portfolio Value) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-159",
          name: "Currency Risk Exposure",
          description: "Value exposed to foreign currency risk",
          formula: "SUM(foreign_currency_holdings * FX_rate)",
          unit: "currency",
          aggregation: "SUM",
        },
        {
          id: "WM-160",
          name: "Duration (Fixed Income)",
          description: "Weighted average duration of bond holdings",
          formula: "SUM(bond_value * duration) / Total Bond Value",
          unit: "years",
          aggregation: "AVG",
        },
        {
          id: "WM-161",
          name: "Yield to Maturity (Fixed Income)",
          description: "Weighted average YTM of bond portfolio",
          formula: "SUM(bond_value * ytm) / Total Bond Value",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-162",
          name: "Credit Quality (Fixed Income)",
          description: "Weighted average credit rating",
          formula: "Weighted avg(credit_rating_score)",
          unit: "score",
          aggregation: "AVG",
        },
        {
          id: "WM-163",
          name: "Active Share",
          description: "% of portfolio that differs from benchmark",
          formula: "0.5 * SUM(ABS(portfolio_weight - benchmark_weight))",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-164",
          name: "ESG Score",
          description: "Environmental, Social, Governance composite score",
          formula: "Weighted avg(holding_esg_score)",
          unit: "score",
          aggregation: "AVG",
        },
        {
          id: "WM-165",
          name: "Tax Efficiency Ratio",
          description: "After-tax return / pre-tax return",
          formula: "(After-tax Return / Pre-tax Return) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-166",
          name: "Tax Cost Ratio",
          description: "Percentage of return lost to taxes",
          formula:
            "((Pre-tax Return - After-tax Return) / Pre-tax Return) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-167",
          name: "Portfolio Weighted P/E Ratio",
          description: "Weighted average price-to-earnings ratio",
          formula: "SUM(equity_value * pe_ratio) / Total Equity Value",
          unit: "ratio",
          aggregation: "AVG",
        },
        {
          id: "WM-168",
          name: "Portfolio Weighted Dividend Yield",
          description: "Weighted average dividend yield",
          formula: "SUM(equity_value * div_yield) / Total Equity Value",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-169",
          name: "Liquidity Score",
          description: "Portfolio liquidity based on days-to-cash conversion",
          formula: "Weighted avg(1 / days_to_liquidity)",
          unit: "score",
          aggregation: "AVG",
        },
        {
          id: "WM-170",
          name: "Value at Risk (VaR)",
          description: "Maximum expected loss at 95% confidence",
          formula: "Portfolio Value * Volatility * Z-score(0.95)",
          unit: "currency",
          aggregation: "AVG",
        },
      ],
    },
    {
      name: "Compliance & Operational Metrics",
      metricCount: 25,
      metrics: [
        {
          id: "WM-171",
          name: "Suitability Reviews Completed",
          description: "Number of client suitability reviews completed",
          formula: "COUNT(suitability_review WHERE status = 'Completed')",
          unit: "count",
          aggregation: "SUM",
        },
        {
          id: "WM-172",
          name: "Suitability Review Currency Rate",
          description: "% of clients with current suitability review",
          formula: "(Current Reviews / Total Clients) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-173",
          name: "KYC Currency Rate",
          description: "% of clients with up-to-date KYC",
          formula: "(Current KYC Records / Total Clients) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-174",
          name: "Trade Supervision Rate",
          description: "% of trades reviewed for compliance",
          formula: "(Reviewed Trades / Total Trades) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-175",
          name: "Trade Exception Rate",
          description: "% of trades flagged as exceptions",
          formula: "(Exception Trades / Total Trades) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-176",
          name: "Client Complaints Filed",
          description: "Number of client complaints received",
          formula: "COUNT(complaint_id)",
          unit: "count",
          aggregation: "SUM",
        },
        {
          id: "WM-177",
          name: "Complaints per 1000 Clients",
          description: "Complaint rate normalized",
          formula: "(Total Complaints / Total Clients) * 1000",
          unit: "rate",
          aggregation: "AVG",
        },
        {
          id: "WM-178",
          name: "Regulatory Violations",
          description: "Number of regulatory violations",
          formula: "COUNT(violation_id)",
          unit: "count",
          aggregation: "SUM",
        },
        {
          id: "WM-179",
          name: "Best Execution Compliance Rate",
          description: "% of trades meeting best execution standards",
          formula: "(Compliant Trades / Total Trades) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-180",
          name: "Fee Disclosure Compliance Rate",
          description: "% of clients with current fee disclosures",
          formula: "(Current Disclosures / Total Clients) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-181",
          name: "Investment Policy Adherence",
          description: "% of portfolios within policy guidelines",
          formula: "(Compliant Portfolios / Total Portfolios) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-182",
          name: "Restricted List Violations",
          description: "Number of trades in restricted securities",
          formula: "COUNT(trade_id WHERE security_id IN restricted_list)",
          unit: "count",
          aggregation: "SUM",
        },
        {
          id: "WM-183",
          name: "Form ADV Updates Completed",
          description: "% of required ADV updates completed on time",
          formula: "(On-time ADV Updates / Required Updates) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-184",
          name: "Client Agreement Currency",
          description: "% of clients with current advisory agreements",
          formula: "(Current Agreements / Total Clients) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-185",
          name: "Account Reconciliation Rate",
          description: "% of accounts reconciled within SLA",
          formula: "(Reconciled Accounts / Total Accounts) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-186",
          name: "Reconciliation Break Items",
          description: "Number of unresolved reconciliation breaks",
          formula: "COUNT(break_id WHERE status = 'Open')",
          unit: "count",
          aggregation: "SUM",
        },
        {
          id: "WM-187",
          name: "Performance Reporting Timeliness",
          description: "% of performance reports delivered on time",
          formula: "(On-time Reports / Total Reports) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-188",
          name: "Data Quality Score",
          description: "Composite data quality metric",
          formula: "Weighted avg(completeness, accuracy, timeliness)",
          unit: "score",
          aggregation: "AVG",
        },
        {
          id: "WM-189",
          name: "Cybersecurity Incidents",
          description: "Number of cybersecurity incidents",
          formula: "COUNT(incident_id)",
          unit: "count",
          aggregation: "SUM",
        },
        {
          id: "WM-190",
          name: "Average Incident Response Time",
          description: "Average time to resolve security incidents",
          formula: "AVG(DATEDIFF(resolution_time, incident_time))",
          unit: "hours",
          aggregation: "AVG",
        },
        {
          id: "WM-191",
          name: "Error Rate (Operational)",
          description: "% of transactions with errors",
          formula: "(Error Count / Total Transactions) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-192",
          name: "Rework Rate",
          description: "% of work requiring rework/correction",
          formula: "(Rework Items / Total Work Items) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-193",
          name: "SLA Compliance Rate",
          description: "% of service level agreements met",
          formula: "(SLAs Met / Total SLAs) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-194",
          name: "Audit Findings - Open",
          description: "Number of open audit findings",
          formula: "COUNT(finding_id WHERE status = 'Open')",
          unit: "count",
          aggregation: "SUM",
        },
        {
          id: "WM-195",
          name: "Training Completion Rate",
          description: "% of required compliance training completed",
          formula: "(Completed Training / Required Training) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
      ],
    },
    {
      name: "Advisor Productivity Metrics",
      metricCount: 25,
      metrics: [
        {
          id: "WM-196",
          name: "AUM per Advisor",
          description: "Total AUM managed per advisor",
          formula: "Total AUM / COUNT(DISTINCT advisor_id)",
          unit: "currency",
          aggregation: "AVG",
        },
        {
          id: "WM-197",
          name: "Clients per Advisor",
          description: "Average number of clients per advisor",
          formula: "COUNT(DISTINCT client_id) / COUNT(DISTINCT advisor_id)",
          unit: "ratio",
          aggregation: "AVG",
        },
        {
          id: "WM-198",
          name: "Revenue per Advisor",
          description: "Average revenue generated per advisor",
          formula: "Total Revenue / COUNT(DISTINCT advisor_id)",
          unit: "currency",
          aggregation: "AVG",
        },
        {
          id: "WM-199",
          name: "New Client Acquisition per Advisor",
          description: "Average new clients onboarded per advisor",
          formula: "COUNT(new_clients) / COUNT(DISTINCT advisor_id)",
          unit: "count",
          aggregation: "AVG",
        },
        {
          id: "WM-200",
          name: "Client Retention Rate by Advisor",
          description: "Average client retention rate per advisor",
          formula:
            "AVG(((Begin Clients - Lost Clients) / Begin Clients) * 100) GROUP BY advisor_id",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-201",
          name: "Client Meeting Frequency per Advisor",
          description: "Average client meetings per advisor",
          formula: "COUNT(client_meetings) / COUNT(DISTINCT advisor_id)",
          unit: "count",
          aggregation: "AVG",
        },
        {
          id: "WM-202",
          name: "Financial Plan Completion Rate",
          description: "% of planned financial plans completed",
          formula: "(Completed Plans / Planned Plans) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-203",
          name: "Cross-Sell Success Rate",
          description: "% of cross-sell opportunities converted",
          formula: "(Successful Cross-sells / Cross-sell Opportunities) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-204",
          name: "Referral Rate per Advisor",
          description: "Average referrals generated per advisor",
          formula: "COUNT(referrals) / COUNT(DISTINCT advisor_id)",
          unit: "count",
          aggregation: "AVG",
        },
        {
          id: "WM-205",
          name: "Billable Time Utilization",
          description: "% of time spent on billable activities",
          formula: "(Billable Hours / Total Hours) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-206",
          name: "Non-Billable Time %",
          description: "% of time on non-billable activities",
          formula: "(Non-Billable Hours / Total Hours) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-207",
          name: "Prospect Conversion Rate",
          description: "% of prospects converted to clients",
          formula: "(New Clients / Total Prospects) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-208",
          name: "Average Time to Onboard",
          description: "Average days from prospect to active client",
          formula: "AVG(DATEDIFF(activation_date, prospect_date))",
          unit: "days",
          aggregation: "AVG",
        },
        {
          id: "WM-209",
          name: "Portfolio Reviews Completed",
          description: "Number of portfolio reviews conducted",
          formula: "COUNT(portfolio_review_id)",
          unit: "count",
          aggregation: "SUM",
        },
        {
          id: "WM-210",
          name: "Client Contact Frequency",
          description: "Average client contacts per month",
          formula: "COUNT(client_contact) / COUNT(DISTINCT client_id) / 12",
          unit: "count",
          aggregation: "AVG",
        },
        {
          id: "WM-211",
          name: "Advisor Capacity Utilization",
          description: "% of advisor capacity utilized",
          formula: "(Current Clients / Max Client Capacity) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-212",
          name: "Advisor Tenure",
          description: "Average years advisor has been with firm",
          formula: "AVG(DATEDIFF(CURRENT_DATE, hire_date) / 365)",
          unit: "years",
          aggregation: "AVG",
        },
        {
          id: "WM-213",
          name: "Advisor Turnover Rate",
          description: "% of advisors who left in period",
          formula: "(Departed Advisors / Beginning Advisors) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-214",
          name: "Client Satisfaction per Advisor",
          description: "Average client NPS by advisor",
          formula: "AVG(nps_score) GROUP BY advisor_id",
          unit: "score",
          aggregation: "AVG",
        },
        {
          id: "WM-215",
          name: "AUM Growth per Advisor",
          description: "Average AUM growth by advisor",
          formula: "AVG(aum_growth) GROUP BY advisor_id",
          unit: "currency",
          aggregation: "AVG",
        },
        {
          id: "WM-216",
          name: "Team Collaboration Score",
          description: "Measure of advisor team collaboration",
          formula: "Weighted avg(shared_clients, joint_meetings, referrals)",
          unit: "score",
          aggregation: "AVG",
        },
        {
          id: "WM-217",
          name: "Continuing Education Hours",
          description: "Average CE hours per advisor",
          formula: "SUM(ce_hours) / COUNT(DISTINCT advisor_id)",
          unit: "hours",
          aggregation: "AVG",
        },
        {
          id: "WM-218",
          name: "Professional Designation Rate",
          description:
            "% of advisors with professional designations (CFP, CFA)",
          formula: "(Advisors with Designation / Total Advisors) * 100",
          unit: "percentage",
          aggregation: "AVG",
        },
        {
          id: "WM-219",
          name: "Client Service Response Time",
          description: "Average time to respond to client inquiries",
          formula: "AVG(DATEDIFF(response_time, inquiry_time))",
          unit: "hours",
          aggregation: "AVG",
        },
        {
          id: "WM-220",
          name: "Advisor Productivity Index",
          description: "Composite score of advisor productivity metrics",
          formula:
            "Weighted avg(revenue_per_advisor, client_growth, satisfaction)",
          unit: "score",
          aggregation: "AVG",
        },
      ],
    },
  ],
};

export const wealthManagementSummaryEnhanced = {
  domain: "Wealth Management",
  priority: "P2",
  completeness: "100% - Enhanced",
  totalMetrics: 220,
  metricsBreakdown: {
    "AUM Metrics": 25,
    "Client Metrics": 30,
    "Performance Metrics": 30,
    "Revenue & Fee Metrics": 30,
    "Activity & Transaction Metrics": 25,
    "Portfolio Construction & Risk Metrics": 30,
    "Compliance & Operational Metrics": 25,
    "Advisor Productivity Metrics": 25,
  },
  coverage: {
    bronzeTables: 7,
    silverTables: 2,
    goldDimensions: 2,
    goldFacts: 4,
    totalMetrics: 220,
  },
  keyCapabilities: [
    "Portfolio management and holdings tracking",
    "Performance measurement and attribution",
    "Asset allocation and rebalancing analytics",
    "Fee billing and revenue management",
    "Client profiling and suitability",
    "Transaction processing and reconciliation",
    "Advisor productivity tracking",
    "Compliance and regulatory monitoring",
    "Benchmark comparison and risk analytics",
    "Client engagement and satisfaction tracking",
  ],
  regulatoryCompliance: [
    "SEC Investment Adviser Act",
    "Regulation Best Interest (Reg BI)",
    "Form ADV Reporting",
    "FINRA Rules",
    "Fiduciary Duty Standards",
    "ERISA (for retirement accounts)",
  ],
  readyForDeployment: true,
  enhancementStatus:
    "P2 Enhanced - All metrics converted from strings to detailed objects with IDs, formulas, descriptions, and units",
};
